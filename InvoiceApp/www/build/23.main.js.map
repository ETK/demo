{"version":3,"sources":["../../src/pages/work/customer-edit/customer-edit.module.ts","../../src/pages/work/customer-edit/customer-edit.ts"],"names":[],"mappings":"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","file":"23.main.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { CustomerEditPage } from './customer-edit';\r\n\r\n@NgModule({\r\n    declarations: [\r\n        CustomerEditPage,\r\n    ],\r\n    imports: [\r\n        IonicPageModule.forChild(CustomerEditPage),\r\n    ],\r\n    exports: [\r\n        CustomerEditPage\r\n    ]\r\n})\r\nexport class CustomerEditPageModule {}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/work/customer-edit/customer-edit.module.ts","import {Component} from '@angular/core';\r\nimport {IonicPage,NavController, NavParams} from 'ionic-angular';\r\nimport {UtilService} from '../../../providers/util-service';\r\nimport {SqlService} from \"../../../providers/sql-service\";\r\nimport {Contacts} from '@ionic-native/contacts';\r\n\r\n/*\r\n Generated class for the CustomerEdit page.\r\n\r\n See http://ionicframework.com/docs/v2/components/#navigation for more info on\r\n Ionic pages and navigation.\r\n */\r\n@IonicPage()\r\n@Component({\r\n    selector: 'page-customer-edit',\r\n    templateUrl: 'customer-edit.html'\r\n})\r\nexport class CustomerEditPage {\r\n    obj: any;\r\n    item: any;\r\n    flag: number;\r\n    titleText: string;\r\n    isCustomerNoDisabled: boolean;\r\n\r\n    constructor(public navCtrl: NavController,\r\n                public navParams: NavParams,\r\n                private utilService: UtilService,\r\n                private contacts: Contacts,\r\n                private sqlService: SqlService) {\r\n        this.item = this.navParams.get('item');\r\n        if (this.item) {\r\n            //编辑\r\n            this.flag = 1;\r\n            this.titleText = '编辑';\r\n            this.isCustomerNoDisabled = true;\r\n            this.obj = this.item;\r\n        } else {\r\n            //添加\r\n            this.obj = {};\r\n            this.titleText = '添加';\r\n            this.isCustomerNoDisabled = false;\r\n            this.flag = 2;\r\n        }\r\n    }\r\n\r\n    //打开设备联系人列表选择\r\n    openContacts() {\r\n        this.contacts.pickContact().then((result) => {\r\n            //alert(JSON.stringify(result));\r\n            if (result) {\r\n                this.obj.contact = result.displayName;\r\n                this.obj.phone = result.phoneNumbers[0].value;\r\n            }\r\n        }).catch((err) => {\r\n            alert(JSON.stringify(err));\r\n        });\r\n\r\n    }\r\n\r\n    save() {\r\n        if (!this.obj.customer_no || !this.obj.customer_name || !this.obj.customer_addr || !this.obj.contact || !this.obj.phone) {\r\n            this.utilService.showToast(\"请注意查看必填信息\");\r\n            return;\r\n        }\r\n\r\n        const reg = /^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+((\\.[a-zA-Z0-9_-]{2,3}){1,2})$/;\r\n        //验证手机号(暂时去掉)\r\n        /*const regex = /^1[3|4|5|7|8][0-9]{9}$/;\r\n         if (!regex.test(this.obj.phone)) {\r\n         this.utilService.showToast(\"请输入正确的移动电话号码\");\r\n         return;\r\n         }*/\r\n        if (this.obj.email && !reg.test(this.obj.email)) {\r\n            this.utilService.showToast(\"请输入正确的邮箱\");\r\n            return;\r\n        }\r\n\r\n        this.sqlService.save('customer', this.obj).then(() => {\r\n            this.navCtrl.pop();\r\n        }).catch((err) => {\r\n            console.error(err);\r\n        });\r\n\r\n    }\r\n\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/work/customer-edit/customer-edit.ts"],"sourceRoot":""}