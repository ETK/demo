{"version":3,"sources":["../../src/pages/work/customer-list/customer-list.module.ts","../../src/pages/work/customer-list/customer-list.ts"],"names":[],"mappings":"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","file":"22.main.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { CustomerListPage } from './customer-list';\r\n\r\n@NgModule({\r\n    declarations: [\r\n        CustomerListPage,\r\n    ],\r\n    imports: [\r\n        IonicPageModule.forChild(CustomerListPage),\r\n    ],\r\n    exports: [\r\n        CustomerListPage\r\n    ]\r\n})\r\nexport class CustomerListPageModule {}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/work/customer-list/customer-list.module.ts","import {Component} from \"@angular/core\";\r\nimport {IonicPage,NavController, NavParams} from \"ionic-angular\";\r\nimport {UtilService} from \"../../../providers/util-service\";\r\nimport {SqlService} from \"../../../providers/sql-service\";\r\n\r\n/*\r\n Generated class for the CustomerList page.\r\n\r\n See http://ionicframework.com/docs/v2/components/#navigation for more info on\r\n Ionic pages and navigation.\r\n */\r\n@IonicPage()\r\n@Component({\r\n    selector: 'page-customer-list',\r\n    templateUrl: 'customer-list.html'\r\n})\r\nexport class CustomerListPage {\r\n    items: any;\r\n    placeholder: string;\r\n    myInput: string;\r\n    totalData: any;\r\n\r\n    constructor(public navCtrl: NavController, public navParams: NavParams, public utilService: UtilService, private sqlService: SqlService) {\r\n        this.placeholder = \"请输入关键字\";\r\n        this.myInput = \"\" ;\r\n    }\r\n\r\n    ionViewWillEnter() {\r\n        //刷新界面\r\n        this.getData();\r\n    }\r\n\r\n    getData() {\r\n        this.sqlService.query('customer').then((data)=>{\r\n            this.totalData = this.utilService.sqliteToArrqy(data.res.rows);\r\n            this.items = this.totalData;\r\n        }).catch((err)=>{\r\n            console.error(err);\r\n        });\r\n\r\n    }\r\n\r\n    editItem(item) {\r\n        this.navCtrl.push('CustomerEditPage', {item: item});\r\n    }\r\n\r\n    addItem() {\r\n        this.navCtrl.push('CustomerEditPage');\r\n    }\r\n\r\n    deleteItem(item) {\r\n        this.utilService.showConfirm('确定要删除此条数据?','提示', () => {\r\n            //delete到数据库\r\n           let condition=\"id='\"+item.id+\"'\";\r\n           this.sqlService.remove('customer',condition).then(()=>{\r\n               this.getData();\r\n           }).catch((err)=>{\r\n               console.error(err);\r\n           })\r\n        });\r\n\r\n    }\r\n\r\n    onInput() {\r\n        let array: any = [];\r\n        for (let data of this.items) {\r\n            if (data.customer_name.indexOf(this.myInput) >= 0 || data.customer_no.indexOf(this.myInput) >= 0) {\r\n                array.push(data);\r\n            }\r\n        }\r\n        //console.log(array);\r\n        this.utilService.refreshUI(()=> {\r\n            this.items = array;\r\n        });\r\n\r\n    }\r\n\r\n    onClear() {\r\n        this.items = this.totalData;\r\n    }\r\n\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/work/customer-list/customer-list.ts"],"sourceRoot":""}