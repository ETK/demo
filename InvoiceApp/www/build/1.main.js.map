{"version":3,"sources":["../../src/pages/work/user-list/user-list.module.ts","../../src/pages/work/user-list/user-list.ts"],"names":[],"mappings":"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","file":"1.main.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { UserListPage } from './user-list';\r\n\r\n@NgModule({\r\n    declarations: [\r\n        UserListPage,\r\n    ],\r\n    imports: [\r\n        IonicPageModule.forChild(UserListPage),\r\n    ],\r\n    exports: [\r\n        UserListPage\r\n    ]\r\n})\r\nexport class UserListPageModule {}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/work/user-list/user-list.module.ts","import {Component} from '@angular/core';\r\nimport {IonicPage,NavController, NavParams} from 'ionic-angular';\r\nimport {UtilService} from '../../../providers/util-service';\r\nimport {SqlService} from \"../../../providers/sql-service\";\r\n\r\n/*\r\n Generated class for the UserList page.\r\n\r\n See http://ionicframework.com/docs/v2/components/#navigation for more info on\r\n Ionic pages and navigation.\r\n */\r\n@IonicPage()\r\n@Component({\r\n    selector: 'page-user-list',\r\n    templateUrl: 'user-list.html'\r\n})\r\nexport class UserListPage {\r\n    items: any;\r\n    placeholder: string;\r\n    myInput: string;\r\n    totalData: any;\r\n\r\n    constructor(public navCtrl: NavController,\r\n                private utilService: UtilService,\r\n                private sqlService: SqlService,\r\n                public navParams: NavParams) {\r\n        this.placeholder = \"请输入关键字\";\r\n        this.myInput = \"\";\r\n        this.getData();\r\n    }\r\n\r\n    getData() {\r\n        this.sqlService.query('user').then((data) => {\r\n            this.totalData = this.utilService.sqliteToArrqy(data.res.rows);\r\n            this.items = this.totalData;\r\n        }).catch((err) => {\r\n            console.error(err);\r\n        });\r\n    }\r\n\r\n    addItem() {\r\n        let inputs = [\r\n            {name: 'userno', placeholder: '请输入用户编号', type: 'number'},\r\n            {name: 'username', placeholder: '请输入用户名'}\r\n        ];\r\n        this.utilService.showPrompt('', '新增用户', inputs, ((data) => {\r\n            if(!data.userno||!data.username){\r\n                data['flag']=false;\r\n                this.utilService.showToast('用户编号和用户名不能为空');\r\n            }else{\r\n                let isRepeat:boolean=false;\r\n                for(let item of this.totalData){\r\n                    if(item.user_no==data.userno){\r\n                        isRepeat=true;\r\n                        break;\r\n                    }\r\n                }\r\n                if(isRepeat){\r\n                    data['flag']=false;\r\n                    this.utilService.showToast('此编号用户已存在');\r\n                }else{\r\n                    this.add(data);\r\n                }\r\n\r\n\r\n            }\r\n\r\n        }))\r\n    }\r\n\r\n    add(data){\r\n        let obj={\r\n            'user_no':data.userno,\r\n            'username':data.username,\r\n            'password':'1',\r\n            'img':''\r\n        };\r\n        this.sqlService.save('user',obj).then(()=>{\r\n            this.getData();\r\n        }).catch((err)=>{\r\n            console.error(err);\r\n        });\r\n    }\r\n\r\n    deleteItem(item) {\r\n        this.utilService.showConfirm('确定要删除此条数据?', '提示', () => {\r\n            let condition = \"id='\" + item.id + \"'\";\r\n            this.sqlService.remove('user', condition).then(() => {\r\n                this.getData();\r\n            }).catch((err) => {\r\n                console.error(err);\r\n            })\r\n        });\r\n    }\r\n\r\n    onInput(){\r\n        let array: any = [];\r\n        for (let data of this.items) {\r\n            if (data.user_no.indexOf(this.myInput) >= 0 || data.username.indexOf(this.myInput) >= 0) {\r\n                array.push(data);\r\n            }\r\n        }\r\n        //console.log(array);\r\n        this.utilService.refreshUI(() => {\r\n            this.items = array;\r\n        });\r\n    }\r\n    onClear() {\r\n        this.items = this.totalData;\r\n    }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/work/user-list/user-list.ts"],"sourceRoot":""}