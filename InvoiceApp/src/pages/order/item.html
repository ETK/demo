<!--
  Generated template for the AddItem page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar>
    <ion-title>{{flag=="add"?"新增":"编辑"}}</ion-title>
    
  </ion-navbar>
</ion-header>


<ion-content class="form-content">
  <form [formGroup]="form">
        <ion-item > 
            <ion-input formControlName="billNo" required maxlength="20" [(ngModel)]="record.billNo" placeholder="订单编号"></ion-input>
        </ion-item>
        <div class="form-detail">
            <ion-item>
                <ion-label>物料</ion-label>
                <ion-select formControlName="materielNo" required [(ngModel)]="record.materielNo">
                    
                </ion-select>
            </ion-item>
            <ion-item>
                <ion-label>要求交期</ion-label>
                <ion-datetime formControlName="deliveryTime" required displayFormat="YYYY-MM-DD" [(ngModel)]="record.deliveryTime"></ion-datetime>
            </ion-item>
            <ion-item > 
                <ion-label>客户</ion-label>
                <ion-select formControlName="customerName" required [(ngModel)]="record.customerName" placeholder="客户">
                    <ion-option *ngFor="let item of customerData" value="item.customerNo">{{item.customerName}}</ion-option>
                </ion-select>
            </ion-item>
            <ion-item > 
                <ion-label>跟单员</ion-label>
                <ion-select formControlName="merchandiser" required [(ngModel)]="record.merchandiser" placeholder="请选择跟单员">
                    <ion-option *ngFor="let item of merchandiserData" value="item.merchandiserNo">{{item.merchandiser}}</ion-option>
                </ion-select>
            </ion-item>
            <ion-item > 
                <ion-label>备注</ion-label>
                <ion-input formControlName="remarks" [(ngModel)]="record.remarks" placeholder="备注"></ion-input>
            </ion-item>
        </div> 
  </form>
<div class="bottom-buttons">
    <button ion-button full [disabled]="!form.valid||!form.dirty" (click)="save()">保存</button>
    <button ion-button full [disabled]="!form.valid||!form.dirty" [hidden]="flag==='add'" (click)="delete()">删除</button>
</div>
</ion-content>

